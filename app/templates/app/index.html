<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
  <meta HTTP-EQUIV="content-type" CONTENT="text/html; charset=UTF-8" />
  <title>Aquarea Data</title>
  <!--  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" />-->
  <link rel="stylesheet" href="{% static 'app/css/base.css' %}" />
  <link rel="stylesheet" href="{% static 'app/css/wind.css' %}" />
  <link rel="stylesheet" href="{% static 'app/css/phenomen.css' %}" />

  <script src="//code.jquery.com/jquery-3.5.1.min.js"></script>
  <!--  https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js-->
  <!--  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>-->
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/modules/export-data.js"></script>
  <script src="https://code.highcharts.com/modules/accessibility.js"></script>
  <script src="https://code.highcharts.com/modules/pattern-fill.js"></script>
  <script src="https://code.highcharts.com/modules/annotations.js"></script>
</head>
<body>
<div class="wrapper">
  <figure class="highcharts-figure">
    <div id="container"></div>
  </figure>
</div>
<!--Ruumide andmed-->
<div class="wrapper">
  <div id="HeatArea1_t_actual_frame" class="counter col_fourth">
    <img id="img11" width="50" height="50" src="{% static 'app/images/temperature.png' %}" />
    <h1
            id="HeatArea1_t_actual"
            class="timer count-title count-number format_celsius"
    >
      -
    </h1>
     <div class="count-text ">
       <span id="HeatArea1_heatarea_name"></span> <span class="format_target format_celsius" id="HeatArea1_t_target"></span>
     </div>
    <div>
      <input type="range" id="HeatArea1_actor_percent" min="0" max="100" value="10" disabled>
    </div>
  </div>

  <div class="counter col_fourth">
    <img id="img12" width="50" height="50" src="{% static 'app/images/temperature.png' %}" />
    <h1
            id="HeatArea2_t_actual"
            class="timer count-title count-number format_celsius"
    >
      -
    </h1>
    <div class="count-text ">
      <span id="HeatArea2_heatarea_name"></span> <span class="format_target format_celsius" id="HeatArea2_t_target"></span>
    </div>
    <div>
      <input type="range" id="HeatArea2_actor_percent" min="0" max="100" value="10" disabled>
    </div>
  </div>

  <div class="counter col_fourth">
    <img id="img13" width="50" height="50" src="{% static 'app/images/temperature.png' %}" />
    <h1
            id="HeatArea3_t_actual"
            class="timer count-title count-number format_celsius"
    >
      -
    </h1>
    <div class="count-text ">
      <span id="HeatArea3_heatarea_name"></span> <span class="format_target format_celsius" id="HeatArea3_t_target"></span>
    </div>
    <div>
      <input type="range" id="HeatArea3_actor_percent" min="0" max="100" value="10" disabled>
    </div>
  </div>

  <div class="counter col_fourth end">
    <img id="img14" width="50" height="50" src="{% static 'app/images/temperature.png' %}" />
    <h1
            id="HeatArea4_t_actual"
            class="timer count-title count-number format_celsius"
    >
      -
    </h1>
    <div class="count-text ">
      <span id="HeatArea4_heatarea_name"></span> <span class="format_target format_celsius" id="HeatArea4_t_target"></span>
    </div>
    <div>
      <input type="range" id="HeatArea4_actor_percent" min="0" max="100" value="10" disabled>
    </div>
  </div>
</div>

<!--Aquarea andmed-->
<div class="wrapper">
  <div class="counter col_fourth">
    <img id="img21" width="50" height="50" src="{% static 'app/images/heat_pump.png' %}" />
    <h1
            id="z1_water_temp"
            class="timer count-title count-number format_celsius"
    >
      -
    </h1>
     <p class="count-text ">
       Majaring <span class="format_target format_celsius" id="zone1Status_temp_target"></span>
     </p>
  </div>

  <div class="counter col_fourth">
    <img id="img22" width="50" height="50"  src="{% static 'app/images/heat_pump.png' %}" />
    <h1
            id="z2_water_temp"
            class="timer count-title count-number format_celsius"
    >
      -
    </h1>
    <p class="count-text ">
      Põrandaküte <span class="format_target format_celsius" id="zone2Status_temp_target"></span>
    </p>
  </div>

  <div class="counter col_fourth">
    <img id="img23" width="50" height="50" src="{% static 'app/images/icon_tank.png' %}" />
    <h1
            id="tankStatus_temp_now"
            class="timer count-title count-number format_celsius"
    >
      -
    </h1>
    <p class="count-text">
      Tarbevesi <span class="format_target format_celsius" id="tankStatus_temp_target"></span>
    </p>
  </div>

  <div class="counter col_fourth end">
    <img id="img24" width="50" height="50" src="{% static 'app/images/heat_pump.png' %}" />
    <h1
            id="olet_water_temp"
            class="timer count-title count-number format_celsius"
    >
      -
    </h1>
    <p class="count-text">
      Akupaagist <span class="format_celsius" id="ilet_water_temp"></span>
    </p>
  </div>
</div>

<!--Ilmaandmed-->
<div class="wrapper">
  <div class="counter col_fourth">
    <img id="img31" width="50" height="50" src="{% static 'app/images/outdoors.png' %}" />
    <h1
            id="act_outd_temp"
            class="timer count-title count-number format_celsius"
    >
      -
    </h1>
    <p class="count-text ">Välisõhk (S9a)</p>
  </div>

  <div class="counter col_fourth">
    <img width="50" height="50" src="{% static 'app/images/outdoors.png' %}" />
    <h1
            id="ilmateenistus_airtemperature"
            class="timer count-title count-number format_celsius"
    >
      -
    </h1>
    <p class="count-text ">Välisõhk (Valga)</p>
  </div>

  <div class="counter col_fourth">
    <span id="ilmateenistusPhenomen" alt="mist" title="mist" class="weather-icon mist"></span>
    <h1
            id="ilmateenistus_relativehumidity"
            class="timer count-title count-number format_percentage"
    >
      -
    </h1>
    <p class="count-text ">Õhuniiskus (Valga)</p>
  </div>

  <div class="counter col_fourth end">
    <span id="ilmateenistusWindOrientation" alt="142 °" title="142 °" class="wind-orientation direction-140"></span>
    <h1

            class="timer count-title count-number"
    >
      <span class="format_speed" id="ilmateenistus_windspeed"></span>
    </h1>
    <p class="count-text ">Tuul <span id="ilmateenistus_winddirection"></span>  (<span class="format_target format_speed" id="ilmateenistus_windspeedmax"></span>)</p>
  </div>
</div>

<!--Tarbimisandmed-->
<div class="wrapper" id="aquarea_consum_table">
  <table class="aquarea_consum_table">
    <thead>
			<tr>
    		<th>Periood</th>
        <th>Kulu (kW/h)</th>
    		<th>Küte (kW/h)</th>
				<th>Vesi (kW/h)</th>
  		</tr>
    </thead>
    <tr>
      <td>Täna kuni <span id="aquarea_consum_date"></span></td>
      <td><span id="t2na_tot"></span></td>
      <td><span id="t2na_heat"></span></td>
      <td><span id="t2na_tank"></span></td>
    </tr>
    <tr>
      <td>Eile</td>
      <td><span id="eile_tot"></span></td>
      <td><span id="eile_heat"></span></td>
      <td><span id="eile_tank"></span></td>
    </tr>
    <tr>
      <td>Sel kuul</td>
      <td><span id="kuu_tot"></span></td>
      <td><span id="kuu_heat"></span></td>
      <td><span id="kuu_tank"></span></td>
    </tr>
    <tr>
      <td>Eelmisel kuul</td>
      <td><span id="kuu_eelmine_tot"></span></td>
      <td><span id="kuu_eelmine_heat"></span></td>
      <td><span id="kuu_eelmine_tank"></span></td>
    </tr>
    <tr>
      <td>Eelmise aasta samal kuul</td>
      <td><span id="kuu_aasta_tagasi_tot"></span></td>
      <td><span id="kuu_aasta_tagasi_heat"></span></td>
      <td><span id="kuu_aasta_tagasi_tank"></span></td>
    </tr>
    <tr>
      <td>Sel perioodil (alates 01.07)</td>
      <td><span id="jooksva_perioodi_tot"></span></td>
      <td><span id="jooksva_perioodi_heat"></span></td>
      <td><span id="jooksva_perioodi_tank"></span></td>
    </tr>
    <tr>
      <td>Eelmisel perioodil</td>
      <td><span id="eelmise_perioodi_tot"></span></td>
      <td><span id="eelmise_perioodi_heat"></span></td>
      <td><span id="eelmise_perioodi_tank"></span></td>
    </tr>
  </table>
</div>

</body>

{{ chart_24h|json_script:"chart_24h" }}

<script src="{% static 'app/js/app.js' %}"></script>
<script>
$(document).ready(function() {
  const chart_24h_data = JSON.parse(document.getElementById('chart_24h').textContent);
  var chart_24h = Highcharts.chart('container', chart_24h_data);

  const url_get_xaxis_categories = "{% url 'app:get_xaxis_categories' %}";
  update_xaxis_categories(url_get_xaxis_categories, chart_24h);

  const url_get_ilmateenistus_now = "{% url 'app:get_ilmateenistus_now' %}";
  update_ilmateenistus_now_data(url_get_ilmateenistus_now, chart_24h);

  const url_get_yrno_forecast = "{% url 'app:get_yrno_forecast' %}";
  update_yrno_next12h_data(url_get_yrno_forecast, chart_24h);

  const url_get_aquarea_serv_data = "{% url 'app:get_aquarea_serv_data' %}";
  update_aquarea_serv_data(url_get_aquarea_serv_data, chart_24h);

  const url_get_aquarea_smrt_data = "{% url 'app:get_aquarea_smrt_data' %}";
  update_aquarea_smrt_data(url_get_aquarea_smrt_data, chart_24h);

  const url_get_ezr_data = "{% url 'app:get_ezr_data' %}";
  update_ezr_data(url_get_ezr_data);
});
</script>

</html>